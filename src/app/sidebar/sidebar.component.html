<nav *ngIf="mobile" cdkTrapFocus="{{expanded}}" class="z-10">
  <button
    class="z-20 flex items-center w-full absolute top-0 left-0 bg-teal-800"
    (click)="toggleChecked()"
    [attr.aria-expanded]="expanded"
    for="sidebar:section"
    #closeFocus
  >
    <svg viewBox="0 0 100 80" width="20" height="20" class="m-2 ml-6">
      <rect width="100" height="20" fill="white"></rect>
      <rect y="30" width="100" height="20" fill="white"></rect>
      <rect y="60" width="100" height="20" fill="white"></rect>
    </svg>
    Navigation
  </button>
  <section
    class="flex flex-col pt-2 h-almost-screen mt-8 w-0 absolute bg-white top-0 overflow-x-hidden {{expanded ? 'w-full' : 'overflow-x-hidden'}}"
    [attr.aria-hidden]="!expanded"
    id="sidebar:section"
    #focusTarget
  >
    <a *ngFor="let link of links; index as i"
      [routerLink]="link.route"
      routerLinkActive="activeLink"
      [routerLinkActiveOptions]="{ exact: true }"
      [attr.aria-hidden]="!expanded"
      [tabIndex]="!expanded ? -1 : 0"
    >
      {{link.text}}
    </a>
  </section>
</nav>

<nav *ngIf="!mobile">
  <section
    class="flex flex-col"
  >
    <a *ngFor="let link of links; index as i"
      [routerLink]="link.route"
      routerLinkActive="activeLink"
      [routerLinkActiveOptions]="{ exact: true }"
    >
      {{link.text}}
    </a>
  </section>
</nav>